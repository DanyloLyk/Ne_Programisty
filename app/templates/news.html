{% extends 'base.html' %}

{% block title %}–ù–æ–≤–∏–Ω–∏ - –ì—Ä–∞–ª—å–Ω–∞ –ö–æ–º–æ—Ä–∞{% endblock %}

<link rel="stylesheet" href="{{ url_for('static', filename='css/news.css') }}">

{% block content %}
<div class="container mt-5">

    <section class="row text-center border-top pt-4 mb-5">
        <div class="col-12">
            <h2 class="fw-bold text-warning mb-3">–û—Å—Ç–∞–Ω–Ω—ñ –Ω–æ–≤–∏–Ω–∏</h2>
            <p class="fs-5 mb-4">
                –î—ñ–∑–Ω–∞–≤–∞–π—Ç–µ—Å—å –ø–µ—Ä—à–∏–º–∏ –ø—Ä–æ –Ω–æ–≤—ñ –Ω–∞—Å—Ç—ñ–ª—å–Ω—ñ —ñ–≥—Ä–∏, –∞–∫—Ü—ñ—ó —Ç–∞ –ø–æ–¥—ñ—ó –≤—ñ–¥ "–ì—Ä–∞–ª—å–Ω–∞ –ö–æ–º–æ—Ä–∞"! üé≤üì∞
            </p>
        </div>
    </section>

    <section class="row mb-5">
     {% for item in news %}
       <div class="col-md-4 mb-4">
                <div class="card border-warning shadow-sm h-100 animate__animated card-hover-animate">
                    <div class="card-img-wrapper">
                        {% if item.images %}
                            <img src="{{ url_for('static', filename=item.images[0].img_url) }}" class="card-img-top"
                                 alt="{{ item.name }}">
                        {% else %}
                            <img src="{{ url_for('static', filename='images/placeholder.jpg') }}" class="card-img-top"
                                 alt="–ù–µ–º–∞—î –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è">
                        {% endif %}
                    </div>
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title fw-bold text-warning">{{ item.name }}</h5>
                        <p class="card-text fs-6 text-truncate-3">{{ item.description }}</p>
                        <button type="button" class="btn btn-outline-warning mt-auto buy-btn" data-bs-toggle="modal"
                                data-bs-target="#newsModal{{ item.id }}">
                            –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ
                        </button>
                    </div>
                </div>
            </div>
    {% endfor %}
</section>
    {% for item in news %}
  <div class="modal fade news-modal-dark" id="newsModal{{ item.id }}" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content rounded-4 shadow dark-modal-content">
            <div class="modal-body p-4">
                <h2 class="fw-bold mb-3 modal-title-warning">{{ item.name }} üéÆ</h2>
                <div id="carouselNews{{ item.id }}" class="carousel slide mb-4" data-bs-ride="carousel">
                    <div class="carousel-inner rounded-3">
                        {% for image in item.images %}
                            <div class="carousel-item {% if loop.first %}active{% endif %}">
                                <img src="{{ url_for('static', filename=image.img_url) }}"
                                    class="d-block w-100 rounded-3" alt="–§–æ—Ç–æ –¥–æ –Ω–æ–≤–∏–Ω–∏ {{ item.name }} - {{ loop.index }}">
                            </div>
                        {% endfor %}
                    </div>
                    <button class="carousel-control-prev carousel-control-accent" type="button" data-bs-target="#carouselNews{{ item.id }}" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    </button>
                    <button class="carousel-control-next carousel-control-accent" type="button" data-bs-target="#carouselNews{{ item.id }}" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    </button>
                </div>
                <p class="news-description mb-2">
                    {{ item.description | replace('\n', '<br>') | safe }}
                </p>
                <p class="news-description accent-text mt-2 mb-0">
                    {{ item.descriptionSecond | replace('\n', '<br>') | safe }}
                </p>
                <button type="button" class="btn btn-warning btn-lg w-100 mt-4 modal-close-btn" data-bs-dismiss="modal">–ó–∞–∫—Ä–∏—Ç–∏</button>
            </div>
        </div>
    </div>
</div>
    {% endfor %}
</div>
{% endblock %}