{% extends 'base.html' %}

{% block title %}API Landing Page - –ì—Ä–∞–ª—å–Ω–∞ –ö–æ–º–æ—Ä–∞{% endblock %}

{% block content %}
<script src="{{ url_for('static', filename='js/api/api.js') }}"></script>

{# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ª–æ–≥—ñ–Ω –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ #}
<script>
// –í–∏–∫–æ–Ω—É—î–º–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ª–æ–≥—ñ–Ω –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è DOM
document.addEventListener('DOMContentLoaded', async function() {
    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ —î —Ç–æ–∫–µ–Ω
    const existingToken = localStorage.getItem('accessToken');
    
    if (!existingToken) {
        // –ß–µ–∫–∞—î–º–æ –ø–æ–∫–∏ api.js –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å—Å—è (–º–∞–∫—Å–∏–º—É–º 1 —Å–µ–∫—É–Ω–¥–∞)
        let attempts = 0;
        const maxAttempts = 10;
        
        const tryLogin = async () => {
            if (typeof login === 'function') {
                try {
                    await login();
                    console.log('–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –ª–æ–≥—ñ–Ω –≤–∏–∫–æ–Ω–∞–Ω–æ');
                    // –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ —Å—Ç–æ—Ä—ñ–Ω–∫—É –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –ª–æ–≥—ñ–Ω—É
                    setTimeout(() => {
                        window.location.reload();
                    }, 500);
                } catch (error) {
                    console.error('–ü–æ–º–∏–ª–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –ª–æ–≥—ñ–Ω—É:', error);
                }
            } else if (attempts < maxAttempts) {
                attempts++;
                setTimeout(tryLogin, 100);
            }
        };
        
        tryLogin();
    } else {
        console.log('–¢–æ–∫–µ–Ω –≤–∂–µ —ñ—Å–Ω—É—î:', existingToken.substring(0, 20) + '...');
        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ —Ç–æ–∫–µ–Ω –≤–∞–ª—ñ–¥–Ω–∏–π, –≤–∏–∫–ª–∏–∫–∞—é—á–∏ API
        try {
            const testResponse = await fetch('/api/v1/cart', {
                headers: {
                    'Authorization': `Bearer ${existingToken}`,
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                }
            });
            if (testResponse.status === 401) {
                console.log('–¢–æ–∫–µ–Ω –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏–π, –≤–∏–∫–æ–Ω—É—î–º–æ –ø–æ–≤—Ç–æ—Ä–Ω–∏–π –ª–æ–≥—ñ–Ω...');
                localStorage.removeItem('accessToken');
                if (typeof login === 'function') {
                    await login();
                    window.location.reload();
                }
            } else {
                console.log('–¢–æ–∫–µ–Ω –≤–∞–ª—ñ–¥–Ω–∏–π');
            }
        } catch (error) {
            console.error('–ü–æ–º–∏–ª–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞:', error);
        }
    }
});
</script>

{# === 1. –ü—Ä–æ –Ω–∞—Å (–±—ñ–ª–∏–π/—Ç–µ–º–Ω–∏–π —Ñ–æ–Ω) === #}
<section class="landing-section section-about py-5 scroll-animate" id="section-about">
    <div class="container">
        <div class="row align-items-center mb-5">
            <div class="col-md-6 scroll-animate fade-left">
                <img src="/static/images/about1.jpg" 
                     alt="–Ü—Å—Ç–æ—Ä—ñ—è –∫—Ä–∞–º–Ω–∏—Ü—ñ" 
                     class="img-fluid rounded shadow-sm border border-warning"
                     onerror="this.src='https://via.placeholder.com/600x400?text=About+Us'">
            </div>
            <div class="col-md-6 scroll-animate fade-right">
                <h2 class="fw-bold text-warning mb-3">–ù–∞—à–∞ —ñ—Å—Ç–æ—Ä—ñ—è</h2>
                <p class="fs-5">
                    –í—Å–µ –ø–æ—á–∞–ª–æ—Å—è –∑ –Ω–µ–≤–µ–ª–∏–∫–æ–≥–æ –∫–ª—É–±—É –Ω–∞—Å—Ç—ñ–ª—å–Ω–∏—Ö —ñ–≥–æ—Ä, –¥–µ –∑–±–∏—Ä–∞–ª–∏—Å—è –¥—Ä—É–∑—ñ –ø—ñ—Å–ª—è —Ä–æ–±–æ—Ç–∏.  
                    –ó —á–∞—Å–æ–º –º–∏ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏–ª–∏ —Ü–µ –∑–∞—Ö–æ–ø–ª–µ–Ω–Ω—è —É —Å–ø—Ä–∞–≤–∂–Ω—é –∫—Ä–∞–º–Ω–∏—Ü—é,  
                    —â–æ–± –∫–æ–∂–µ–Ω –º—ñ–≥ –∑–Ω–∞–π—Ç–∏ –≥—Ä—É –¥–æ –¥—É—à—ñ ‚Äî –≤—ñ–¥ —Å—Ç—Ä–∞—Ç–µ–≥—ñ–π –¥–æ –≤–µ—Å–µ–ª–∏—Ö –≤–µ—á—ñ—Ä–æ–∫.
                </p>
            </div>
        </div>

        {# –©–æ –º–∏ –ø—Ä–æ–ø–æ–Ω—É—î–º–æ #}
        <div class="row text-center mb-5 border-top pt-5 scroll-animate fade-up">
            <h2 class="fw-bold text-warning mb-4">–©–æ –º–∏ –ø—Ä–æ–ø–æ–Ω—É—î–º–æ</h2>

            <div class="col-md-4 mb-3">
                <div class="card shadow-sm h-100 bg-body-secondary border border-warning card-hover-animate">
                    <div class="card-body">
                        <h5 class="card-title text-warning">üéØ –í–µ–ª–∏–∫–∏–π –≤–∏–±—ñ—Ä</h5>
                        <p class="card-text">–ë—ñ–ª—å—à–µ 300 –Ω–∞—Å—Ç—ñ–ª—å–Ω–∏—Ö —ñ–≥–æ—Ä ‚Äî –¥–ª—è –±—É–¥—å-—è–∫–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó —Ç–∞ –Ω–∞—Å—Ç—Ä–æ—é.</p>
                    </div>
                </div>
            </div>

            <div class="col-md-4 mb-3">
                <div class="card shadow-sm h-100 bg-body-secondary border border-warning card-hover-animate">
                    <div class="card-body">
                        <h5 class="card-title text-warning">‚òï –Ü–≥—Ä–æ–≤–∞ –∑–æ–Ω–∞</h5>
                        <p class="card-text">–ó–∞—Ç–∏—à–Ω–µ –º—ñ—Å—Ü–µ, –¥–µ –º–æ–∂–Ω–∞ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≥—Ä—É –ø–µ—Ä–µ–¥ –ø–æ–∫—É–ø–∫–æ—é.</p>
                    </div>
                </div>
            </div>

            <div class="col-md-4 mb-3">
                <div class="card shadow-sm h-100 bg-body-secondary border border-warning card-hover-animate">
                    <div class="card-body">
                        <h5 class="card-title text-warning">üéÅ –ü–æ–¥–∞—Ä—É–Ω–∫–∏</h5>
                        <p class="card-text">–°–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏ —Ç–∞ –∫–æ—Ä–æ–±–∫–æ–≤—ñ –Ω–∞–±–æ—Ä–∏ –¥–ª—è –¥—Ä—É–∑—ñ–≤ —ñ –±–ª–∏–∑—å–∫–∏—Ö.</p>
                    </div>
                </div>
            </div>
        </div>

        {# –ù–∞—à—ñ —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ #}
        <div class="row align-items-center border-top pt-5 scroll-animate fade-up">
            <div class="col-md-6 scroll-animate fade-left">
                <h2 class="fw-bold text-warning mb-3">–ù–∞—à—ñ —Ü—ñ–Ω–Ω–æ—Å—Ç—ñ</h2>
                <p class="fs-5">
                    –ú–∏ –≤—ñ—Ä–∏–º–æ, —â–æ –Ω–∞—Å—Ç—ñ–ª—å–Ω—ñ —ñ–≥—Ä–∏ ‚Äî —Ü–µ –±—ñ–ª—å—à–µ, –Ω—ñ–∂ —Ä–æ–∑–≤–∞–≥–∞.  
                    –¶–µ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è, —Å–º—ñ—è—Ç–∏—Å—è, –º–∏—Å–ª–∏—Ç–∏ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—á–Ω–æ —ñ –ø—Ä–æ—Å—Ç–æ –±—É—Ç–∏ –ø–æ—Ä—É—á.  
                    –ö–æ–∂–Ω–∞ –ø–∞—Ä—Ç—ñ—è ‚Äî —Ü–µ –Ω–æ–≤–∞ —ñ—Å—Ç–æ—Ä—ñ—è, —è–∫—É —Ç–∏ —Å—Ç–≤–æ—Ä—é—î—à —Ä–∞–∑–æ–º –∑ —ñ–Ω—à–∏–º–∏ üíõ
                </p>
            </div>
            <div class="col-md-6 scroll-animate fade-right">
                <img src="/static/images/about2.jpg" 
                     alt="–ù–∞—Å—Ç—ñ–ª—å–Ω—ñ —ñ–≥—Ä–∏ —Ç–∞ –∫–æ–º–∞–Ω–¥–∞" 
                     class="img-fluid rounded shadow-sm border border-warning"
                     onerror="this.src='https://via.placeholder.com/600x400?text=Our+Values'">
            </div>
        </div>
    </div>
</section>

{# === 2. –ö–æ–Ω—Ç–∞–∫—Ç–∏ (–∂–æ–≤—Ç–∏–π —Ñ–æ–Ω) === #}
<section class="landing-section section-contacts py-5 bg-warning scroll-animate" id="section-contacts">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-12">
                <h2 class="fw-bold mb-4 text-dark">–ó–∞–≤—ñ—Ç–∞–π –¥–æ –Ω–∞—Å!</h2>
                <div class="row g-4">
                    <div class="col-md-4">
                        <div class="card shadow-sm h-100 bg-body-secondary border border-warning contact-card card-hover-animate">
                            <div class="card-body">
                                <i class="fa-solid fa-location-dot fa-3x text-dark mb-3"></i>
                                <h5 class="card-title text-dark fw-bold">–ê–¥—Ä–µ—Å–∞</h5>
                                <p class="card-text text-dark">
                                    –ø—Ä–æ—Å–ø–µ–∫—Ç –°–æ–±–æ—Ä–Ω–æ—Å—Ç—ñ, 43<br>
                                    –º. –õ—É—Ü—å–∫ (Port City)
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card shadow-sm h-100 bg-body-secondary border border-warning contact-card card-hover-animate">
                            <div class="card-body">
                                <i class="fa-solid fa-phone fa-3x text-dark mb-3"></i>
                                <h5 class="card-title text-dark fw-bold">–¢–µ–ª–µ—Ñ–æ–Ω</h5>
                                <p class="card-text text-dark">
                                    <a href="tel:+380681234567" class="text-dark text-decoration-none">+380 68 123 45 67</a>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card shadow-sm h-100 bg-body-secondary border border-warning contact-card card-hover-animate">
                            <div class="card-body">
                                <i class="fa-solid fa-envelope fa-3x text-dark mb-3"></i>
                                <h5 class="card-title text-dark fw-bold">Email</h5>
                                <p class="card-text text-dark">
                                    <a href="mailto:info@komora.ua" class="text-dark text-decoration-none">info@komora.ua</a>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row mb-5">
            <div class="col-12">
                <div class="ratio ratio-16x9 shadow-lg rounded">
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2609.123456789!2d25.345678!3d50.745678!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47245b123456789%3A0xabcdef123456789!2s%D0%9F%D1%80%D0%BE%D1%81%D0%BF%D0%B5%D0%BA%D1%82%20%D0%A1%D0%BE%D0%B1%D0%BE%D1%80%D0%BD%D0%BE%D1%81%D1%82%D1%96%2043%2C%20%D0%9B%D1%83%D1%86%D1%8C%D0%BA!5e0!3m2!1suk!2sua!4v1690000000000!5m2!1suk!2sua"
                        width="600"
                        height="450"
                        style="border:0; border-radius: 8px;"
                        allowfullscreen=""
                        loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>
            </div>
        </div>

        <!-- –°–æ—Ü—ñ–∞–ª—å–Ω—ñ –º–µ—Ä–µ–∂—ñ -->
        <div class="row text-center">
            <div class="col-12">
                <h3 class="fw-bold text-dark mb-4">–ú–∏ –≤ —Å–æ—Ü–º–µ—Ä–µ–∂–∞—Ö</h3>
                <div class="social-icons justify-content-center">
                    <a href="https://facebook.com/komora" target="_blank" aria-label="Facebook" class="text-dark">
                        <i class="fa-brands fa-facebook fa-2x"></i>
                    </a>
                    <a href="https://instagram.com/komora" target="_blank" aria-label="Instagram" class="text-dark">
                        <i class="fa-brands fa-instagram fa-2x"></i>
                    </a>
                    <a href="https://t.me/komora" target="_blank" aria-label="Telegram" class="text-dark">
                        <i class="fa-brands fa-telegram fa-2x"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

{# === 3. –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä—ñ–≤ (–±—ñ–ª–∏–π/—Ç–µ–º–Ω–∏–π —Ñ–æ–Ω) === #}
<section class="landing-section section-catalog py-5 scroll-animate" id="section-dekstops">
    <div class="container">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="text-warning m-0 fw-bold">–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä—ñ–≤</h2>
            <div class="d-flex gap-2">
                <button id="addItemBtn" class="btn btn-warning fw-bold moderator-only" style="display: none;">
                    ‚ûï –î–æ–¥–∞—Ç–∏ —Ç–æ–≤–∞—Ä
                </button>
                <button class="btn btn-outline-warning d-flex align-items-center" data-bs-toggle="modal" data-bs-target="#cartModal">
                    <i class="fa-solid fa-cart-shopping me-2"></i> –ö–æ—à–∏–∫
                </button>
            </div>
        </div>

        <div id="desktopCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner" id="desktop-list">
                <!-- JS –≤—Å—Ç–∞–≤–∏—Ç—å —Å–ª–∞–π–¥–∏ -->
            </div>

            <button class="carousel-control-prev" type="button" data-bs-target="#desktopCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#desktopCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
            </button>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è —Ä–µ–∂–∏–º—É –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ -->
        <div class="text-center mt-5">
            <button id="moderatorToggleBtnBottom" class="btn btn-lg btn-warning shadow-lg moderator-toggle-btn">
                <i class="fa-solid fa-user-shield me-2"></i>
                <span id="moderatorToggleTextBottom">–†–µ–∂–∏–º –∫–ª—ñ—î–Ω—Ç–∞</span>
            </button>
        </div>
    </div>
</section>

{# === 4. –ù–æ–≤–∏–Ω–∏ (–∂–æ–≤—Ç–∏–π —Ñ–æ–Ω) === #}
<section class="landing-section section-news py-5 bg-warning scroll-animate" id="section-news">
    <div class="container">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="text-dark mb-0 fw-bold">–ù–æ–≤–∏–Ω–∏</h2>
            <button id="addNewsBtn" class="btn btn-dark fw-bold px-4 py-2 shadow moderator-only" style="display: none;">
                ‚ûï –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–Ω—É
            </button>
        </div>

        <div id="newsCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner" id="news-list">
                <!-- JS –≤—Å—Ç–∞–≤–ª—è—î —Å–ª–∞–π–¥–∏ -->
            </div>

            <button class="carousel-control-prev" type="button" data-bs-target="#newsCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </button>

            <button class="carousel-control-next" type="button" data-bs-target="#newsCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
            </button>
        </div>
    </div>
</section>

{# === 5. –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è (–±—ñ–ª–∏–π/—Ç–µ–º–Ω–∏–π —Ñ–æ–Ω) === #}
<section class="landing-section section-orders py-5 scroll-animate" id="section-orders">
    <div class="container">
        <h2 class="text-warning mb-4 fw-bold">–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>

        <div id="ordersCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner" id="orders-list">
                <!-- JS –≤—Å—Ç–∞–≤–ª—è—î —Å–ª–∞–π–¥–∏ -->
            </div>

            <button class="carousel-control-prev" type="button" data-bs-target="#ordersCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </button>

            <button class="carousel-control-next" type="button" data-bs-target="#ordersCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
            </button>
        </div>
    </div>
</section>

{# === 6. –í—ñ–¥–≥—É–∫–∏ (–∂–æ–≤—Ç–∏–π —Ñ–æ–Ω) === #}
<section class="landing-section section-feedback py-5 bg-warning scroll-animate" id="section-feedback">
    <div class="container">
        <h2 class="text-dark mb-4 fw-bold">–í—ñ–¥–≥—É–∫–∏</h2>

        <!-- –§–æ—Ä–º–∞ –≤—ñ–¥–≥—É–∫—É -->
        <div class="row justify-content-center mb-5">
            <div class="col-lg-8">
                <div class="card shadow-lg border-0">
                    <div class="card-body p-4">
                        <h4 class="card-title text-warning mb-3">–ó–∞–ª–∏—à —Å–≤—ñ–π –≤—ñ–¥–≥—É–∫</h4>
                        <form id="feedback-form">
                            <div class="mb-3">
                                <label for="feedback-title" class="form-label text-warning fw-bold">–¢–µ–º–∞ / –ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
                                <input type="text" class="form-control" id="feedback-title" name="title" required>
                            </div>
                            <div class="mb-3">
                                <label for="feedback-description" class="form-label text-warning fw-bold">–û–ø–∏—Å –≤–∞—à–æ–≥–æ –≤—ñ–¥–≥—É–∫—É</label>
                                <textarea class="form-control" id="feedback-description" name="description" rows="5" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-warning w-100 fw-bold">
                                <i class="fa-solid fa-paper-plane me-2"></i> –í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏
                            </button>
                        </form>
                        <div id="feedback-message" class="mt-3 text-center"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ –≤—ñ–¥–≥—É–∫—ñ–≤ -->
        <div class="d-flex justify-content-end mb-3">
            <button id="addFeedbackBtn" class="btn btn-dark fw-bold moderator-only" style="display: none;">
                ‚ûï –î–æ–¥–∞—Ç–∏ –≤—ñ–¥–≥—É–∫
            </button>
        </div>

        <div id="feedbacks-list" class="row g-4">
            <!-- JS –≤—Å—Ç–∞–≤–ª—è—î –∫–∞—Ä—Ç–æ—á–∫–∏ –≤—ñ–¥–≥—É–∫—ñ–≤ -->
        </div>
    </div>
</section>

{# === 7. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ (–±—ñ–ª–∏–π/—Ç–µ–º–Ω–∏–π —Ñ–æ–Ω) === #}
<section class="landing-section section-users py-5 scroll-animate" id="section-users">
    <div class="container">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="text-warning mb-0 fw-bold">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ</h2>
            <button id="addUserBtn" class="btn btn-warning fw-bold moderator-only" style="display: none;">
                ‚ûï –î–æ–¥–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
            </button>
        </div>

        <div id="users-list" class="row g-4">
            <!-- JS –≤—Å—Ç–∞–≤–ª—è—î –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ -->
        </div>
    </div>
</section>

{# === –ú–û–î–ê–õ–¨–ù–Ü –í–Ü–ö–ù–ê === #}

<!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–µ—Ç–∞–ª–µ–π –Ω–æ–≤–∏–Ω–∏ -->
<div class="modal fade" id="newsModal" tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content shadow rounded-3">
            <div class="modal-header bg-warning">
                <h5 class="modal-title text-dark" id="newsModalTitle"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <!-- Carousel –¥–ª—è —Ñ–æ—Ç–æ –Ω–æ–≤–∏–Ω–∏ -->
                <div id="newsModalCarousel" class="carousel slide mb-3" data-bs-ride="carousel">
                    <div class="carousel-inner" id="newsModalImages">
                        <!-- JS –ø—ñ–¥—Å—Ç–∞–≤–ª—è—Ç–∏–º–µ —Å–ª–∞–π–¥–∏ —Å—é–¥–∏ -->
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#newsModalCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon"></span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#newsModalCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon"></span>
                    </button>
                </div>

                <p id="newsModalDescription" class="fs-5"></p>
                <hr>
                <p id="newsModalMore" class="text-muted small"></p>
            </div>
        </div>
    </div>
</div>


<!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏–Ω–∏ -->
<div class="modal fade" id="addNewsModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content border border-warning shadow-lg">
            <div class="modal-header bg-warning">
                <h5 class="modal-title fw-bold">‚ûï –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–Ω—É</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label class="form-label fw-bold">–ù–∞–∑–≤–∞</label>
                    <input id="addNewsTitle" type="text" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–û–ø–∏—Å</label>
                    <textarea id="addNewsDesc" class="form-control" rows="3" required></textarea>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</label>
                    <textarea id="addNewsDesc2" class="form-control" rows="3"></textarea>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (URL)</label>
                    <input id="addNewsImage" type="text" class="form-control" placeholder="https://example.com/image.jpg">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-dismiss="modal">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                <button class="btn btn-warning fw-bold" id="saveNewsBtn">–°—Ç–≤–æ—Ä–∏—Ç–∏</button>
            </div>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –Ω–æ–≤–∏–Ω–∏ -->
<div class="modal fade" id="editNewsModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content border border-warning shadow-lg">
            <div class="modal-header bg-warning">
                <h5 class="modal-title fw-bold">‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –Ω–æ–≤–∏–Ω—É</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="editNewsId">
                <div class="mb-3">
                    <label class="form-label fw-bold">–ù–∞–∑–≤–∞</label>
                    <input id="editNewsTitle" type="text" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–û–ø–∏—Å</label>
                    <textarea id="editNewsDesc" class="form-control" rows="3" required></textarea>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</label>
                    <textarea id="editNewsDesc2" class="form-control" rows="3"></textarea>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è (URL —á–µ—Ä–µ–∑ –∫–æ–º—É)</label>
                    <input id="editNewsImage" type="text" class="form-control" placeholder="https://img1.jpg, https://img2.jpg">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-dismiss="modal">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                <button class="btn btn-warning fw-bold" id="updateNewsBtn">–û–Ω–æ–≤–∏—Ç–∏</button>
            </div>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—É -->
<div class="modal fade" id="addItemModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content border border-warning shadow-lg">
            <div class="modal-header bg-warning">
                <h5 class="modal-title fw-bold">‚ûï –î–æ–¥–∞—Ç–∏ —Ç–æ–≤–∞—Ä</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label class="form-label fw-bold">–ù–∞–∑–≤–∞ —Ç–æ–≤–∞—Ä—É</label>
                    <input id="addItemName" type="text" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–û–ø–∏—Å</label>
                    <textarea id="addItemDescription" class="form-control" rows="3" required></textarea>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–¶—ñ–Ω–∞ (‚Ç¥)</label>
                    <input id="addItemPrice" type="number" step="0.01" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">URL –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</label>
                    <input id="addItemImage" type="url" class="form-control" placeholder="https://example.com/photo.jpg" required>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-dismiss="modal">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                <button class="btn btn-warning fw-bold" id="saveItemBtn">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
            </div>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—É -->
<div class="modal fade" id="editItemModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content border border-warning shadow-lg">
            <div class="modal-header bg-warning">
                <h5 class="modal-title fw-bold">‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ç–æ–≤–∞—Ä</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="editItemId">
                <div class="mb-3">
                    <label class="form-label fw-bold">–ù–∞–∑–≤–∞ —Ç–æ–≤–∞—Ä—É</label>
                    <input id="editItemName" type="text" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–û–ø–∏—Å</label>
                    <textarea id="editItemDescription" class="form-control" rows="3" required></textarea>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–¶—ñ–Ω–∞ (‚Ç¥)</label>
                    <input id="editItemPrice" type="number" step="0.01" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è</label>
                    <input id="editItemImage" type="url" class="form-control">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-dismiss="modal">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                <button class="btn btn-warning fw-bold" id="updateItemBtn">–û–Ω–æ–≤–∏—Ç–∏</button>
            </div>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –ø–µ—Ä–µ–≥–ª—è–¥—É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è -->
<div class="modal fade" id="viewOrderModal" tabindex="-1">
    <div class="modal-dialog modal-xl">
        <div class="modal-content border border-warning shadow-lg">
            <div class="modal-header bg-warning">
                <h5 class="modal-title fw-bold">üßæ –ü–µ—Ä–µ–≥–ª—è–¥ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <h5 class="mb-2">–û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è</h5>
                    <p><strong>ID:</strong> <span id="orderId"></span></p>
                    <p><strong>–°—Ç–∞—Ç—É—Å:</strong> <span id="orderStatus" class="badge bg-info"></span></p>
                </div>
                <div class="mb-3">
                    <h5 class="mb-2">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á</h5>
                    <p><strong>–ù—ñ–∫–Ω–µ–π–º:</strong> <span id="orderUserNickname"></span></p>
                    <p><strong>Email:</strong> <span id="orderUserEmail"></span></p>
                </div>
                <h5 class="mt-4 mb-2">–¢–æ–≤–∞—Ä–∏</h5>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead class="table-warning">
                            <tr>
                                <th>–ù–∞–∑–≤–∞</th>
                                <th>–ö—ñ–ª—å–∫—ñ—Å—Ç—å</th>
                                <th>–¶—ñ–Ω–∞</th>
                                <th>–°—É–º–∞</th>
                            </tr>
                        </thead>
                        <tbody id="orderItemsTable"></tbody>
                    </table>
                </div>
                <h4 class="text-end mt-3">–†–∞–∑–æ–º: <span id="orderTotal"></span> –≥—Ä–Ω</h4>
            </div>
            <div class="modal-footer" id="orderActions">
                <!-- –ö–Ω–æ–ø–∫–∏ –ø—ñ–¥—Ç—è–≥–Ω—É—Ç—å—Å—è —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –≤—ñ–¥–≥—É–∫—É -->
<div class="modal fade" id="editFeedbackModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content border border-warning shadow-lg">
            <div class="modal-header bg-warning">
                <h5 class="modal-title fw-bold">‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –≤—ñ–¥–≥—É–∫</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="editFeedbackId">
                <div class="mb-3">
                    <label class="form-label fw-bold">–¢–µ–º–∞ / –ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
                    <input id="editFeedbackTitle" type="text" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–û–ø–∏—Å</label>
                    <textarea id="editFeedbackDescription" class="form-control" rows="5" required></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-dismiss="modal">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                <button class="btn btn-warning fw-bold" id="updateFeedbackBtn">–û–Ω–æ–≤–∏—Ç–∏</button>
            </div>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤—ñ–¥–≥—É–∫—É –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ -->
<div class="modal fade" id="addFeedbackUserModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content border border-warning shadow-lg">
            <div class="modal-header bg-warning">
                <h5 class="modal-title fw-bold">‚ûï –î–æ–¥–∞—Ç–∏ –≤—ñ–¥–≥—É–∫ –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label class="form-label fw-bold">ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</label>
                    <input id="addFeedbackUserId" type="number" class="form-control" required placeholder="–í–≤–µ–¥—ñ—Ç—å ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞">
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–¢–µ–º–∞ / –ó–∞–≥–æ–ª–æ–≤–æ–∫</label>
                    <input id="addFeedbackUserTitle" type="text" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–û–ø–∏—Å</label>
                    <textarea id="addFeedbackUserDescription" class="form-control" rows="5" required></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-dismiss="modal">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                <button class="btn btn-warning fw-bold" id="saveFeedbackUserBtn">–°—Ç–≤–æ—Ä–∏—Ç–∏</button>
            </div>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ -->
<div class="modal fade" id="addUserModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content border border-warning shadow-lg">
            <div class="modal-header bg-warning">
                <h5 class="modal-title fw-bold">‚ûï –î–æ–¥–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label class="form-label fw-bold">–ù—ñ–∫–Ω–µ–π–º</label>
                    <input id="addUserNickname" type="text" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">Email</label>
                    <input id="addUserEmail" type="email" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–ü–∞—Ä–æ–ª—å</label>
                    <input id="addUserPassword" type="password" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è</label>
                    <input id="addUserPasswordConfirm" type="password" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–°—Ç–∞—Ç—É—Å</label>
                    <select id="addUserStatus" class="form-select">
                        <option value="User">User</option>
                        <option value="Admin">Admin</option>
                        <option value="Moder">Moder</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–ü—Ä–∏–≤—ñ–ª–µ–≥—ñ—è</label>
                    <select id="addUserPrivilege" class="form-select">
                        <option value="Default">Default</option>
                        <option value="Gold">Gold</option>
                        <option value="Diamond">Diamond</option>
                        <option value="VIP">VIP</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-dismiss="modal">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                <button class="btn btn-warning fw-bold" id="saveUserBtn">–°—Ç–≤–æ—Ä–∏—Ç–∏</button>
            </div>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ -->
<div class="modal fade" id="editUserModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content border border-warning shadow-lg">
            <div class="modal-header bg-warning">
                <h5 class="modal-title fw-bold">‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="editUserId">
                <div class="mb-3">
                    <label class="form-label fw-bold">–ù—ñ–∫–Ω–µ–π–º</label>
                    <input id="editUserNickname" type="text" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">Email</label>
                    <input id="editUserEmail" type="email" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–°—Ç–∞—Ç—É—Å</label>
                    <select id="editUserStatus" class="form-select">
                        <option value="User">User</option>
                        <option value="Admin">Admin</option>
                        <option value="Moder">Moder</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–ü—Ä–∏–≤—ñ–ª–µ–≥—ñ—è</label>
                    <select id="editUserPrivilege" class="form-select">
                        <option value="Default">Default</option>
                        <option value="Gold">Gold</option>
                        <option value="Diamond">Diamond</option>
                        <option value="VIP">VIP</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label class="form-label fw-bold">–ù–æ–≤–∏–π –ø–∞—Ä–æ–ª—å (–∑–∞–ª–∏—à–∏—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º, —â–æ–± –Ω–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏)</label>
                    <input id="editUserPassword" type="password" class="form-control">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-dismiss="modal">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                <button class="btn btn-warning fw-bold" id="updateUserBtn">–û–Ω–æ–≤–∏—Ç–∏</button>
            </div>
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è -->
<div class="modal fade" id="confirmDeleteModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content border border-danger shadow-lg">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title fw-bold">‚ö†Ô∏è –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <p id="confirmDeleteText">–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π –µ–ª–µ–º–µ–Ω—Ç?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
                <button type="button" class="btn btn-danger fw-bold" id="confirmDeleteBtn">–í–∏–¥–∞–ª–∏—Ç–∏</button>
            </div>
        </div>
    </div>
</div>

<!-- –ö–æ—à–∏–∫ Modal -->
<div class="modal fade" id="cartModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">–ö–æ—à–∏–∫</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä–∏—Ç–∏"></button>
            </div>
            <div class="modal-body">
                <div id="cart-items" class="d-flex flex-column gap-3">
                    <!-- JS –¥–æ–¥–∞—î –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç—É—Ç -->
                </div>
            </div>
            <div class="modal-footer d-flex justify-content-between align-items-center">
                <h5 class="mb-0">
                    –†–∞–∑–æ–º: <span id="cart-total" class="fw-bold">0 ‚Ç¥</span>
                </h5>
                <div class="d-flex gap-2">
                    <button id="clear-cart" class="btn btn-outline-danger">–û—á–∏—Å—Ç–∏—Ç–∏</button>
                    <button class="btn btn-success" data-bs-dismiss="modal">–û—Ñ–æ—Ä–º–∏—Ç–∏</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç—ñ–≤ -->
<script src="{{ url_for('static', filename='js/api/moderator.js') }}" defer></script>
<script src="{{ url_for('static', filename='js/api/cart.js') }}" defer></script>
<script src="{{ url_for('static', filename='js/api/news.js') }}" defer></script>
<script src="{{ url_for('static', filename='js/api/orders.js') }}" defer></script>
<script src="{{ url_for('static', filename='js/api/feedbacks.js') }}" defer></script>
<script src="{{ url_for('static', filename='js/api/users.js') }}" defer></script>

<!-- –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–Ω—ñ–º–∞—Ü—ñ—ó –ø—Ä–∏ —Å–∫—Ä–æ–ª—ñ –¥–ª—è –≤—Å—ñ—Ö –±–ª–æ–∫—ñ–≤ -->
<script>
document.addEventListener('DOMContentLoaded', function () {
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('animated');
                observer.unobserve(entry.target);
            }
        });
    }, {
        threshold: 0.1
    });

    // –ê–Ω—ñ–º–∞—Ü—ñ—è –¥–ª—è –≤—Å—ñ—Ö —Å–µ–∫—Ü—ñ–π —Ç–∞ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –∑ –∫–ª–∞—Å–æ–º scroll-animate
    document.querySelectorAll('.scroll-animate').forEach((el) => {
        observer.observe(el);
    });

    // –ê–Ω—ñ–º–∞—Ü—ñ—è –¥–ª—è –∫–∞—Ä—Ç–æ–∫ –∑ –∑–∞—Ç—Ä–∏–º–∫–æ—é
    const cardObserver = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                setTimeout(() => {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }, index * 100);
                cardObserver.unobserve(entry.target);
            }
        });
    }, {
        threshold: 0.1
    });

    // –°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—î–º–æ –∑–∞ –∫–∞—Ä—Ç–∫–∞–º–∏ –ø—ñ—Å–ª—è —ó—Ö —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
    setTimeout(() => {
        document.querySelectorAll('.card:not(.animated)').forEach((card) => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(30px)';
            card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            cardObserver.observe(card);
        });
    }, 500);
});
</script>

<div class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 9999">
  <div id="liveToast" class="toast align-items-center border-0" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body fs-6 fw-bold" id="toastMessage">
        </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
  </div>
</div>
{% endblock %}
